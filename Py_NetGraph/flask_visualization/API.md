 
# **API 文档**

## **1. `/social_network`**  
### **描述**:  
此接口返回社交网络图的JSON格式数据。它基于好友关系（user_id和friend_id）构建图表，并使用NetworkX可视化社交网络。每个节点代表一个用户，边代表用户之间的朋友关系。节点的大小和颜色基于每个用户的好友数量（度数）。

### **请求方法**:  
- `GET`

### **响应示例**:
```json
{
    "nodes": [
        {
            "id": 1,
            "size": 500,
            "color": "#f5c3c3"
        },
        {
            "id": 2,
            "size": 800,
            "color": "#00ff00"
        }
    ],
    "edges": [
        {
            "source": 1,
            "target": 2
        },
        {
            "source": 1,
            "target": 3
        }
    ]
}
```

### **说明**:
- `nodes`: 包含所有节点的数据，每个节点有以下字段：
  - `id`: 用户ID
  - `size`: 节点大小，基于用户的好友数量
  - `color`: 节点颜色，基于用户的好友数量
- `edges`: 包含所有边的数据，每条边代表一个好友关系。
  - `source`: 源节点ID
  - `target`: 目标节点ID

---

## **2. `/message_network`**  
### **描述**:  
此接口返回消息互动网络图的JSON数据。它基于发送者和接收者的消息数量（权重）构建加权图。每个节点代表一个用户，边的权重表示两者之间的消息互动次数。

### **请求方法**:  
- `GET`

### **响应示例**:
```json
{
    "nodes": [
        {
            "id": 1,
            "size": 600,
            "color": "#ff9900"
        },
        {
            "id": 2,
            "size": 900,
            "color": "#66ccff"
        }
    ],
    "edges": [
        {
            "source": 1,
            "target": 2,
            "weight": 5
        },
        {
            "source": 1,
            "target": 3,
            "weight": 2
        }
    ]
}
```

### **说明**:
- `nodes`: 包含所有节点的数据，每个节点有以下字段：
  - `id`: 用户ID
  - `size`: 节点大小，基于用户的消息互动活跃度
  - `color`: 节点颜色，基于用户的活跃度
- `edges`: 包含所有边的数据，每条边代表发送者和接收者之间的消息互动。
  - `source`: 发送者ID
  - `target`: 接收者ID
  - `weight`: 边的权重，表示消息互动的次数

---

## **3. `/message_trends`**  
### **描述**:  
此接口返回消息发送趋势的数据，按时间戳统计每个时间点的消息数量，并提供平滑处理后的数据。

### **请求方法**:  
- `GET`

### **响应示例**:
```json
{
    "timestamps": ["2025-03-01 12:00:00", "2025-03-01 12:05:00"],
    "msg_count_smoothed": [10, 15]
}
```

### **说明**:
- `timestamps`: 消息发送的时间戳列表（字符串格式）
- `msg_count_smoothed`: 每个时间点的平滑处理后的消息数量

---

## **4. `/friend_distribution`**  
### **描述**:  
此接口返回用户好友数量的分布数据。它统计每个用户的好友数量，并返回好友数量的分布情况。

### **请求方法**:  
- `GET`

### **响应示例**:
```json
{
    "friend_counts": [5, 10, 15, 20, 25]
}
```

### **说明**:
- `friend_counts`: 一个列表，表示每个用户的好友数量

---

### **注意事项**:
- 所有请求默认返回JSON格式的数据。
- 本文档中提供的所有接口都没有认证要求，适用于不需要身份验证的公共API。

--- 
 